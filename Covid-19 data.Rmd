---
title: "Covid-19  "
Author:"Rukhsar Ahmed"
Date: "29-12-2020" 
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r }
# Data Source     https://www.kaggle.com/imdevskp/corona-virus-report?select=covid_19_clean_complete.csv



library(ggplot2)
library(readr)
data <- read_csv("data/covid_19_data_cleaned.csv")
data
```


# For displying the data we use the str
```{r}
str(data)
```
# For removing the province/state
```{r}
# This step take 2 to 3 times because of large data set.It uses plyr library which is built in R version
data <- ddply(data,.(Date, Country), numcolwise(sum))
```

# Remove the lattitude and longitude because we do not need these columns
```{r}
str(data)
data <- within(data, rm(Lat,Long))
str(data)
```

# Now select the data of US for plotting purpose
```{r}
# We want to plot the data
us <- subset(data, Country=="US")
```

## Now show single data but one problem might some countries do not updated the latest data
```{r}
# now show single data but one problem might some countries do not updated the latest data
latest <- subset(data,Date==max(Date)-3)


```
# Top 10 most hitted Countries or affected by Covid-19

```{r}


latest <- latest[order(latest$Confirmed,decreasing = TRUE),]
top <- latest[1:10,]
top



```




# Plot using ggplot2

```{r}
# Bar Plot
library(ggplot2)
ggplot(top,aes(x=Country,y=Confirmed))+
  geom_col(fill="red")+
  labs(title="1. Bar Plot for Most top 10 Worst Hit Countries by Covid-19 for 2020 year",subtitle = "Covid-19 Dataset",caption = "Rukhsar Ahmed")




```
The above graph shows that US is the top most affected country from the covid-19.

## Scatter plot for the confirmed cases of covid-19 in US
```{r}
us
 ggplot(us)+
  
  geom_point(aes(x=Date,y=Confirmed),size=0.3,colour="Red")+
 
  labs(title="2 Scatter Graph For Confirmed case of  Covid-19 for US ",subtitle = "Covid-19 Cases",caption = "Rukhsar Ahmed")
```


```{r}
head(us)


```
# Line plot for the Confirmed and Recovered cases in US
```{r}

 
ggplot(us)+
  geom_line(data=us,aes(x=Date,y=Confirmed),size=2,colour="blue")+
  geom_line(data=us,aes(x=Date,y=Recovered),size=2,colour="Red")+
  labs(title="Confirmed and Recovered cases  of  Covid-19 for US ",subtitle = "Covid-19 Cases",caption = "Rukhsar Ahmed")




# Now draw lines between the Recovered and deaths
ggplot(us)+
  geom_line(data=us,aes(x=Date,y=Recovered),size=2,colour="blue")+
  geom_line(data=us,aes(x=Date,y=Deaths),size=2,colour="Red")+
  labs(title="3. Line Plot for Recovered and Deaths cases  of  Covid-19 for US ",subtitle = "Covid-19 Cases",caption = "Rukhsar Ahmed")



```
# Line plot for checking the death rate 

```{r}
ggplot(us)+
  geom_line(data=us,aes(x=Date,y=Deaths),size=2,colour="Red")+
 labs(title="Total Deaths cases  of  Covid-19 for US ",subtitle = "Covid-19 Cases",caption = "Rukhsar Ahmed")
```


```{r}
head(us)
```

# Overlay density and histogram
```{r}
ggplot(us, aes(x = Confirmed)) +
geom_histogram(color="orange", fill="green",bins = 20,
aes(y = stat(density))) +
geom_density(colour = "blue")+
  labs(title = "Overlay Density and Histogram Graph  ",subtitle = "US",caption = "Rukhsar Ahmed")

```